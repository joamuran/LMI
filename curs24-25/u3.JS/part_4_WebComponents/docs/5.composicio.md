## Composició de Web Components amb Slot

A l'apartat anterior hem vist com personalitzar els web components mitjançant atributs. Ara bé, quan volem inserir contingut HTML dins un component, hem de fer ús de mecanismes més complets, com els slots.

Els slot permeten que l’usuari que fa servir el Web Component inserisca contingut HTML dins d'aquest. Això vol dir que no només passem text, sinó també estructures HTML complexes o fins i tot altres Web Components.

Anem a veure-ho amb el següent exemple, que genera una targeta d'usuari, amb el nom i el seu càrrec.

### Component TargetaUsuari

Aquest component buscarà els elements fills `<targeta-nom>` i `<targeta-carrec>`, i inserirà el seu contingut dins d'un *h2* i un *p* dins el Shadow DOM.

```js
class TargetaUsuari extends HTMLElement {
    constructor() {
        super();
        this.attachShadow({ mode: 'open' });
    }

    connectedCallback() {
        this.render();
    }

    render() {
        const nom = this.querySelector('targeta-nom')?.textContent || "Usuari desconegut";
        const carrec = this.querySelector('targeta-carrec')?.textContent || "Sense càrrec";

        this.shadowRoot.innerHTML = `
            <style>
                .targeta {
                    border: 1px solid #ddd;
                    border-radius: 10px;
                    padding: 15px;
                    width: 250px;
                    background: #f9f9f9;
                    box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
                    text-align: center;
                }
                .targeta h2, .targeta p {
                    margin: 5px 0;
                }
            </style>
            <div class="targeta">
                <h2>${nom}</h2>
                <p>${carrec}</p>
            </div>
        `;
    }
}

customElements.define('targeta-usuari', TargetaUsuari);
```

### Components TargetaNom i TargetaCarrec

Els components `TargetaNom` i `TargetaCarrec` seran etiquetes personalitzades, que ens permetran organitzar el codi, però no tindran un Shadow DOM ni es renderitzaran per si sols:

```js
class TargetaNom extends HTMLElement {}
class TargetaCarrec extends HTMLElement {}

customElements.define('targeta-nom', TargetaNom);
customElements.define('targeta-carrec', TargetaCarrec);
```

### Ús en HTML

Amb les classes anteriors, podem generar una targeta com a:

```html
<targeta-usuari>
    <targeta-nom>Jose</targeta-nom>
    <targeta-carrec>Profe de LMI</targeta-carrec>
</targeta-usuari>
```

Així, internament, el Shadow DOM generarà un `h2` i un `p` amb el contingut indicat.

Amb això oferim HTML més semàntic, que ens ajuda a entendre l'estructura i ens dóna una major flexibilitat, ja que podrem modificar com es renderitza la targeta de l'usuari. A més, fa el codi més mantenible, si en un futur volem afegir més estils o funcioanalitats per poder modificar només el Web Component sense tocar l'HTML.


